/*! gp v0.0.2 | (c) 2016 @mjeightyfive | https://github.com/mjeightyfive/gp */
"use strict";!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n:e.GP=n()}(this,function(){function e(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var u in t)"undefined"===e[u]&&(e[u]=t[u])}return e}function n(c){var f=e(c||{},n.options,s),r=function(e){t(i+f.userID+"?"+o,e)},a=function(e){var n=[];t(i+f.userID+"?"+o,function(t){var o=JSON.parse(t);u(o.feed.entry,function(e){var t=e.title.$t,u=e.gphoto$albumType;if(t)if(void 0!==f.excludeAlbumsNames){var o=-1!==f.excludeAlbumsNames.indexOf(t);if(!o)if(u){var i=e.gphoto$albumType.$t;if(void 0!==f.excludeAlbumsTypes){var s=-1!==f.excludeAlbumsTypes.indexOf(i);s||n.push(e)}else n.push(e)}else n.push(e)}else n.push(e)}),e&&e(n)})},l=function(e){var n=[];a(function(t){u(t,function(e){n.push(e.link[0].href)}),e&&e(n)})},p=function(e,n){var o=[],i="s0-"+f.size,s=/([^\/]+)$/;t(e,function(e){var t=JSON.parse(e),c="";u(t.feed.entry,function(e){e.content.src.replace(s,function(n){c=e.content.src.replace(s,"")+i+"/"+n,o.push(c)})}),n&&n(o)})},m=function(e,n){u(e,function(e){p(e,function(e){u(e,function(e){n&&n(e)})})})},d=function(e){l(function(n){m(n,function(n){e&&e(n)})})},v=function(e,n){var t=[];a(function(o){u(o,function(n){-1!==n.title.$t.indexOf(e)&&t.push(n.link[0].href)}),n&&n(t)})},g=function(e,n){var t=[];v(e,function(e){u(e,function(e){p(e,function(e){u(e,function(e){t.push(e)}),n&&n(t)})})})};return{getUserData:r,getAlbums:a,getAlbumsURLs:l,getAlbumsImages:d,getAlbumsByName:v,getImagesByAlbumName:g}}var t=function(e,n){var t=new XMLHttpRequest;t.open("get",e,!0),t.onload=function(){var e=t.status;200===e?n&&n(t.response):console.log("error!")},t.send()},u=function(e,n,t){if("[object Object]"===Object.prototype.toString.call(e))for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&n.call(t,e[u],u,e);else for(var o=0,i=e.length;i>o;o++)n.call(t,e[o],o,e)},o="alt=json",i="https://picasaweb.google.com/data/feed/api/user/",s={userID:"mjeightyfive",size:"h720",excludeAlbumsNames:[],excludeAlbumsTypes:[]};return n});