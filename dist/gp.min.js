/*! gp v0.0.2 | (c) 2016 @mjeightyfive | https://github.com/mjeightyfive/gp */
"use strict";!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e:n.GP=e()}(this,function(){function n(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)"undefined"===n[o]&&(n[o]=t[o])}return n}function e(c){var f=n(c||{},e.options,r),s=function(n){t(i+f.userID+"?"+u,n)},a=function(n){var e=[];t(i+f.userID+"?"+u,function(t){var u=JSON.parse(t);o(u.feed.entry,function(n){var t=n.title.$t,o=n.gphoto$albumType;if(t){var u=-1!==f.excludeAlbumsNames.indexOf(t);if(!u)if(o){var i=n.gphoto$albumType.$t,r=-1!==f.excludeAlbumsTypes.indexOf(i);r||e.push(n)}else e.push(n)}}),n&&n(e)})},l=function(n){var e=[];a(function(t){o(t,function(n){e.push(n.link[0].href)}),n&&n(e)})},p=function(n,e){var u=[],i="s0-"+f.size,r=/([^\/]+)$/;t(n,function(n){var t=JSON.parse(n),c="";o(t.feed.entry,function(n){n.content.src.replace(r,function(e){c=n.content.src.replace(r,"")+i+"/"+e,u.push(c)})}),e&&e(u)})},m=function(n,e){o(n,function(n){p(n,function(n){o(n,function(n){e&&e(n)})})})},d=function(n){l(function(e){m(e,function(e){n&&n(e)})})},g=function(n,e){var t=[];a(function(u){o(u,function(e){-1!==e.title.$t.indexOf(n)&&t.push(e.link[0].href)}),e&&e(t)})},v=function(n,e){var t=[];g(n,function(n){o(n,function(n){p(n,function(n){o(n,function(n){t.push(n)}),e&&e(t)})})})};return{getUserData:s,getAlbums:a,getAlbumsURLs:l,getAlbumsImages:d,getAlbumsByName:g,getImagesByAlbumName:v}}var t=function(n,e){var t=new XMLHttpRequest;t.open("get",n,!0),t.onload=function(){var n=t.status;200===n?e&&e(t.response):console.log("error!")},t.send()},o=function(n,e,t){if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.call(t,n[o],o,n);else for(var u=0,i=n.length;i>u;u++)e.call(t,n[u],u,n)},u="alt=json",i="https://picasaweb.google.com/data/feed/api/user/",r={userID:"mjeightyfive",size:"h720",excludeAlbumsNames:[],excludeAlbumsTypes:[]};return e});